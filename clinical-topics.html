<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clinical Topics | OnCallPrep</title>
    <meta name="description" content="Comprehensive clinical topics guide covering common GP presentations with symptoms, differentials, management, and safety netting.">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/pages.css">
    <link rel="stylesheet" href="styles/content.css">
    <link rel="stylesheet" href="styles/clinical.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Fraunces:wght@600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container nav-container">
            <a href="index.html" class="logo">
                <span class="logo-icon">üìû</span>
                <span class="logo-text">OnCallPrep</span>
            </a>
            <ul class="nav-links">
                <li><a href="portfolio.html">Portfolio</a></li>
                <li><a href="sca.html">SCA</a></li>
                <li><a href="akt.html">AKT</a></li>
                <li><a href="hidden-curriculum.html">Hidden Curriculum</a></li>
                <li><a href="pricing.html">Pricing</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
            <div class="nav-auth">
                <a href="login.html" class="btn btn-ghost">Log in</a>
                <a href="signup.html" class="btn btn-primary">Start Free Trial</a>
            </div>
            <button class="mobile-menu-btn" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header page-header-clinical">
        <div class="container">
            <h1>Clinical Topics</h1>
            <p>Comprehensive guides to common GP presentations</p>
        </div>
    </section>

    <!-- Main Content -->
    <section class="content-page">
        <div class="container">
            <div class="content-intro">
                <p>Detailed clinical topic guides covering symptoms, differential diagnoses, management, and safety netting. Essential knowledge for AKT and clinical practice.</p>
            </div>

            <!-- Free Topics -->
            <div class="content-section">
                <h2>Free Sample Topics</h2>
                <p style="font-size: 1.125rem; color: var(--color-gray-700); margin-bottom: var(--space-xl);">Click on any topic below to view detailed information. These are free samples to help you understand our approach‚Äîclear, practical, and easy to understand.</p>
                
                <div class="resources-grid" style="margin-bottom: var(--space-2xl);">
                    <div class="resource-card" onclick="toggleTopic('asthma')" style="cursor: pointer;">
                        <div class="resource-icon">ü´Å</div>
                        <h3>Asthma</h3>
                        <p>Diagnosis, management, and monitoring</p>
                        <span class="resource-tag tag-free">Free</span>
                    </div>
                    <div class="resource-card" onclick="toggleTopic('copd')" style="cursor: pointer;">
                        <div class="resource-icon">üí®</div>
                        <h3>COPD</h3>
                        <p>Assessment and management</p>
                        <span class="resource-tag tag-free">Free</span>
                    </div>
                    <div class="resource-card" onclick="toggleTopic('hypertension')" style="cursor: pointer;">
                        <div class="resource-icon">ü©∫</div>
                        <h3>Hypertension</h3>
                        <p>Diagnosis and treatment</p>
                        <span class="resource-tag tag-free">Free</span>
                    </div>
                    <div class="resource-card" onclick="toggleTopic('heart-failure')" style="cursor: pointer;">
                        <div class="resource-icon">‚ù§Ô∏è</div>
                        <h3>Heart Failure</h3>
                        <p>Assessment and management</p>
                        <span class="resource-tag tag-free">Free</span>
                    </div>
                    <div class="resource-card" onclick="toggleTopic('ibs')" style="cursor: pointer;">
                        <div class="resource-icon">ü´Ä</div>
                        <h3>IBS</h3>
                        <p>Irritable bowel syndrome</p>
                        <span class="resource-tag tag-free">Free</span>
                    </div>
                    <div class="resource-card" onclick="toggleTopic('eczema')" style="cursor: pointer;">
                        <div class="resource-icon">üß¥</div>
                        <h3>Eczema</h3>
                        <p>Atopic dermatitis management</p>
                        <span class="resource-tag tag-free">Free</span>
                    </div>
                </div>

                <!-- Topic Content Areas -->
                <div id="topic-content" style="display: none; margin-top: var(--space-2xl);">
                    <!-- Content will be inserted here by JavaScript -->
                </div>
            </div>

            <!-- Pro Topics -->
            <div class="content-section">
                <h2>Pro Topics Library (50+ Topics)</h2>
                <div class="info-box tip">
                    <div class="info-box-title">Upgrade to Pro</div>
                    <p>Access 50+ additional clinical topics organized by system:</p>
                    <ul>
                        <li>Cardiovascular (10+ topics)</li>
                        <li>Respiratory (8+ topics)</li>
                        <li>Gastroenterology (8+ topics)</li>
                        <li>Endocrine (6+ topics)</li>
                        <li>Mental Health (6+ topics)</li>
                        <li>Women's Health (5+ topics)</li>
                        <li>Paediatrics (5+ topics)</li>
                        <li>Dermatology (4+ topics)</li>
                        <li>And more...</li>
                    </ul>
                    <a href="pricing.html" class="btn btn-primary" style="margin-top: var(--space-md);">Upgrade to Pro</a>
                </div>
            </div>

            <!-- Topic Structure -->
            <div class="content-section">
                <h2>What's Included in Each Topic</h2>
                <div class="checklist">
                    <ul>
                        <li><span class="check-icon">‚úì</span><strong>Key Symptoms:</strong> Common presenting complaints</li>
                        <li><span class="check-icon">‚úì</span><strong>Differential Diagnoses:</strong> What else could it be?</li>
                        <li><span class="check-icon">‚úì</span><strong>Assessment:</strong> History, examination, investigations</li>
                        <li><span class="check-icon">‚úì</span><strong>Management:</strong> NICE/CKS guidelines</li>
                        <li><span class="check-icon">‚úì</span><strong>Safety Netting:</strong> When to worry, when to refer</li>
                        <li><span class="check-icon">‚úì</span><strong>Follow-up:</strong> Monitoring and review</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <a href="index.html" class="logo">
                        <span class="logo-icon">üìû</span>
                        <span class="logo-text">OnCallPrep</span>
                    </a>
                    <p>Making GP training simpler, one trainee at a time.</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 OnCallPrep. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Load Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="scripts/supabase-config.js"></script>
    <script src="scripts/auth.js"></script>
    <script src="scripts/subscription.js"></script>
    <script src="scripts/main.js"></script>
    
    <script>
        // Clinical topics content
        const topicsContent = {
            'asthma': {
                title: 'Asthma',
                icon: 'ü´Å',
                content: `
                    <div style="padding: var(--space-xl); background: white; border-radius: var(--radius-xl); border: 2px solid var(--color-primary-200);">
                        <h2 style="color: var(--color-primary-700); margin-bottom: var(--space-md); display: flex; align-items: center; gap: var(--space-sm);">
                            <span style="font-size: 2rem;">ü´Å</span>
                            <span>Asthma</span>
                        </h2>
                        
                        <div style="margin-bottom: var(--space-xl);">
                            <h3 style="color: var(--color-primary-700); margin-bottom: var(--space-sm);">What is Asthma?</h3>
                            <p style="color: var(--color-gray-700); line-height: 1.8; margin-bottom: var(--space-md);">
                                Think of asthma like a sensitive airway that overreacts. When triggered, the airways narrow, making it harder to breathe out. It's like trying to breathe through a narrow straw that keeps getting tighter.
                            </p>
                        </div>

                        <div style="margin-bottom: var(--space-xl);">
                            <h3 style="color: var(--color-primary-700); margin-bottom: var(--space-sm);">Key Symptoms</h3>
                            <ul style="margin: 0; padding-left: 1.5rem; color: var(--color-gray-700); line-height: 1.8;">
                                <li><strong>Wheeze:</strong> A whistling sound when breathing out (like air through a narrow tube)</li>
                                <li><strong>Breathlessness:</strong> Feeling like you can't get enough air, especially on exertion</li>
                                <li><strong>Chest tightness:</strong> Like a band around the chest</li>
                                <li><strong>Cough:</strong> Often worse at night or early morning</li>
                                <li><strong>Variable symptoms:</strong> Better with treatment, worse with triggers</li>
                            </ul>
                        </div>

                        <div style="margin-bottom: var(--space-xl);">
                            <h3 style="color: var(--color-primary-700); margin-bottom: var(--space-sm);">Differential Diagnoses</h3>
                            <p style="color: var(--color-gray-700); line-height: 1.8; margin-bottom: var(--space-sm);">When someone presents with breathlessness or wheeze, consider:</p>
                            <ul style="margin: 0; padding-left: 1.5rem; color: var(--color-gray-700); line-height: 1.8;">
                                <li><strong>COPD:</strong> Usually older, smokers, symptoms don't vary much</li>
                                <li><strong>Heart failure:</strong> Older, cardiac risk factors, ankle swelling</li>
                                <li><strong>Anxiety:</strong> Hyperventilation, no wheeze, normal examination</li>
                                <li><strong>Vocal cord dysfunction:</strong> Difficulty breathing IN, not out</li>
                                <li><strong>GORD:</strong> Acid reflux can trigger asthma-like symptoms</li>
                            </ul>
                        </div>

                        <div style="margin-bottom: var(--space-xl);">
                            <h3 style="color: var(--color-primary-700); margin-bottom: var(--space-sm);">Assessment</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-lg);">
                                <div style="padding: var(--space-md); background: var(--color-primary-50); border-radius: var(--radius-md);">
                                    <strong style="color: var(--color-primary-700); display: block; margin-bottom: var(--space-xs);">History</strong>
                                    <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.9375rem; color: var(--color-gray-700); line-height: 1.6;">
                                        <li>Pattern of symptoms</li>
                                        <li>Triggers (pollen, dust, exercise)</li>
                                        <li>Family history</li>
                                        <li>Atopy (eczema, hayfever)</li>
                                    </ul>
                                </div>
                                <div style="padding: var(--space-md); background: var(--color-primary-50); border-radius: var(--radius-md);">
                                    <strong style="color: var(--color-primary-700); display: block; margin-bottom: var(--space-xs);">Examination</strong>
                                    <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.9375rem; color: var(--color-gray-700); line-height: 1.6;">
                                        <li>Wheeze on auscultation</li>
                                        <li>Hyperinflated chest</li>
                                        <li>Peak flow (if available)</li>
                                    </ul>
                                </div>
                                <div style="padding: var(--space-md); background: var(--color-primary-50); border-radius: var(--radius-md);">
                                    <strong style="color: var(--color-primary-700); display: block; margin-bottom: var(--space-xs);">Investigations</strong>
                                    <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.9375rem; color: var(--color-gray-700); line-height: 1.6;">
                                        <li>Spirometry (FEV1/FVC < 70%)</li>
                                        <li>Reversibility test</li>
                                        <li>FeNO (if available)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div style="margin-bottom: var(--space-xl);">
                            <h3 style="color: var(--color-primary-700); margin-bottom: var(--space-sm);">Management (NICE Guidelines)</h3>
                            <div style="padding: var(--space-lg); background: var(--color-success-50); border-radius: var(--radius-lg); border-left: 4px solid var(--color-success-500);">
                                <p style="margin: 0 0 var(--space-sm) 0; color: var(--color-gray-700); line-height: 1.8;">
                                    <strong>Step 1:</strong> SABA (salbutamol) as needed - the "reliever" inhaler
                                </p>
                                <p style="margin: var(--space-sm) 0 var(--space-sm) 0; color: var(--color-gray-700); line-height: 1.8;">
                                    <strong>Step 2:</strong> Add low-dose ICS (beclomethasone) - the "preventer" inhaler
                                </p>
                                <p style="margin: var(--space-sm) 0 var(--space-sm) 0; color: var(--color-gray-700); line-height: 1.8;">
                                    <strong>Step 3:</strong> Increase ICS or add LABA (long-acting beta-agonist)
                                </p>
                                <p style="margin: var(--space-sm) 0 0 0; color: var(--color-gray-700); line-height: 1.8;">
                                    <strong>Step 4-5:</strong> Further escalation (higher doses, add-on therapies)
                                </p>
                            </div>
                        </div>

                        <div style="margin-bottom: var(--space-xl);">
                            <h3 style="color: var(--color-primary-700); margin-bottom: var(--space-sm);">Safety Netting</h3>
                            <div style="padding: var(--space-lg); background: var(--color-warning-50); border-radius: var(--radius-lg); border-left: 4px solid var(--color-warning-500);">
                                <p style="margin: 0 0 var(--space-sm) 0; color: var(--color-gray-700); line-height: 1.8; font-weight: 600;">
                                    Refer urgently if:
                                </p>
                                <ul style="margin: var(--space-sm) 0 0 0; padding-left: 1.5rem; color: var(--color-gray-700); line-height: 1.8;">
                                    <li>Life-threatening asthma (silent chest, exhaustion, confusion)</li>
                                    <li>Severe asthma attack not responding to treatment</li>
                                    <li>Peak flow < 50% of best or predicted</li>
                                </ul>
                                <p style="margin: var(--space-md) 0 0 0; color: var(--color-gray-700); line-height: 1.8; font-weight: 600;">
                                    Review if:
                                </p>
                                <ul style="margin: var(--space-sm) 0 0 0; padding-left: 1.5rem; color: var(--color-gray-700); line-height: 1.8;">
                                    <li>Using SABA more than 3x/week</li>
                                    <li>Waking at night with symptoms</li>
                                    <li>Symptoms affecting daily activities</li>
                                </ul>
                            </div>
                        </div>

                        <div style="padding: var(--space-lg); background: var(--color-primary-50); border-radius: var(--radius-lg); border-left: 4px solid var(--color-primary-500);">
                            <strong style="color: var(--color-primary-700); display: block; margin-bottom: var(--space-sm);">üí° Key Learning Point</strong>
                            <p style="margin: 0; color: var(--color-gray-700); line-height: 1.8;">
                                Asthma is variable - symptoms come and go. If symptoms are constant, think COPD. If they're triggered by specific things and respond to treatment, think asthma. Always check inhaler technique - many patients aren't using them correctly!
                            </p>
                        </div>
                    </div>
                `
            },
            'hypertension': {
                title: 'Hypertension',
                icon: 'ü©∫',
                content: `
                    <div style="padding: var(--space-xl); background: white; border-radius: var(--radius-xl); border: 2px solid var(--color-primary-200);">
                        <h2 style="color: var(--color-primary-700); margin-bottom: var(--space-md); display: flex; align-items: center; gap: var(--space-sm);">
                            <span style="font-size: 2rem;">ü©∫</span>
                            <span>Hypertension</span>
                        </h2>
                        
                        <div style="margin-bottom: var(--space-xl);">
                            <h3 style="color: var(--color-primary-700); margin-bottom: var(--space-sm);">What is Hypertension?</h3>
                            <p style="color: var(--color-gray-700); line-height: 1.8; margin-bottom: var(--space-md);">
                                High blood pressure is like a garden hose with too much pressure - it damages the pipes (blood vessels) over time. Most people have no symptoms, which is why it's called the "silent killer."
                            </p>
                        </div>

                        <div style="margin-bottom: var(--space-xl);">
                            <h3 style="color: var(--color-primary-700); margin-bottom: var(--space-sm);">Diagnosis (NICE Guidelines)</h3>
                            <div style="padding: var(--space-lg); background: var(--color-primary-50); border-radius: var(--radius-lg); border-left: 4px solid var(--color-primary-500);">
                                <p style="margin: 0 0 var(--space-sm) 0; color: var(--color-gray-700); line-height: 1.8;">
                                    <strong>Clinic BP ‚â• 140/90:</strong> Offer ABPM (ambulatory blood pressure monitoring) or HBPM (home BP monitoring)
                                </p>
                                <p style="margin: var(--space-sm) 0 0 0; color: var(--color-gray-700); line-height: 1.8;">
                                    <strong>ABPM average ‚â• 135/85:</strong> Diagnose hypertension. Think of ABPM as the "gold standard" - it measures BP over 24 hours, avoiding white coat hypertension.
                                </p>
                            </div>
                        </div>

                        <div style="margin-bottom: var(--space-xl);">
                            <h3 style="color: var(--color-primary-700); margin-bottom: var(--space-sm);">Management</h3>
                            <p style="color: var(--color-gray-700); line-height: 1.8; margin-bottom: var(--space-md);">
                                <strong>Under 55 or non-black:</strong> Start with ACE inhibitor (or ARB if intolerant)
                            </p>
                            <p style="color: var(--color-gray-700); line-height: 1.8; margin-bottom: var(--space-md);">
                                <strong>Over 55 or black:</strong> Start with calcium channel blocker (or thiazide if intolerant)
                            </p>
                            <p style="color: var(--color-gray-700); line-height: 1.8;">
                                Target: < 140/90 (or < 135/85 if under 80 and no complications)
                            </p>
                        </div>

                        <div style="padding: var(--space-lg); background: var(--color-primary-50); border-radius: var(--radius-lg); border-left: 4px solid var(--color-primary-500);">
                            <strong style="color: var(--color-primary-700); display: block; margin-bottom: var(--space-sm);">üí° Key Learning Point</strong>
                            <p style="margin: 0; color: var(--color-gray-700); line-height: 1.8;">
                                Always check for target organ damage (eyes, heart, kidneys) and secondary causes (especially in young people). Most hypertension is "essential" (no cause found), but don't miss treatable causes like renal artery stenosis or phaeochromocytoma.
                            </p>
                        </div>
                    </div>
                `
            }
        };

        function toggleTopic(topicId) {
            const contentDiv = document.getElementById('topic-content');
            const topic = topicsContent[topicId];
            
            if (!topic) {
                // For topics not yet implemented, show a message
                contentDiv.innerHTML = `
                    <div style="padding: var(--space-xl); background: white; border-radius: var(--radius-xl); border: 2px solid var(--color-primary-200); text-align: center;">
                        <h3 style="color: var(--color-primary-700); margin-bottom: var(--space-md);">Topic Content Coming Soon</h3>
                        <p style="color: var(--color-gray-700); line-height: 1.8;">
                            This topic is being developed. Pro members will have access to all 50+ clinical topics with detailed, practical guidance.
                        </p>
                        <a href="pricing.html" class="btn btn-primary" style="margin-top: var(--space-md);">Upgrade to Pro</a>
                    </div>
                `;
                contentDiv.style.display = 'block';
                contentDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
                return;
            }
            
            if (contentDiv.style.display === 'none' || contentDiv.innerHTML === '') {
                contentDiv.innerHTML = topic.content;
                contentDiv.style.display = 'block';
                contentDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                // Toggle off if same topic clicked
                contentDiv.style.display = 'none';
            }
        }
    </script>
</body>
</html>
